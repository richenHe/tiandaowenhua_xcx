# API å…¨é¢æµ‹è¯•æŠ¥å‘Š

**æµ‹è¯•æ—¶é—´**: 2026-02-12  
**æµ‹è¯•ç”¨æˆ·**: ä½•æ—¥ç› (ID: 17, OPENID: 2017456901935075328)  
**æµ‹è¯•æ–¹æ³•**: CloudBase MCP å·¥å…·ç›´æ¥è°ƒç”¨  
**å‚è€ƒæ–‡æ¡£**: `.agents/plans/å‰åç«¯è”é€šå®æ–½è®¡åˆ’.md`

---

## ğŸ“Š æµ‹è¯•ç»Ÿè®¡

| æ¨¡å— | è®¡åˆ’æ¥å£æ•° | å·²æµ‹è¯• | é€šè¿‡ | å¤±è´¥ | æœªå®ç° | é€šè¿‡ç‡ |
|------|-----------|--------|------|------|--------|--------|
| **User** | 17 | 17 | 12 | 2 | 3 | 70.6% |
| **Course** | 7 | 7 | 4 | 1 | 2 | 57.1% |
| **Order** | 5 | 5 | 3 | 0 | 2 | 60.0% |
| **Ambassador** | 10 | 10 | 6 | 1 | 3 | 60.0% |
| **System** | 7 | 7 | 5 | 2 | 0 | 71.4% |
| **æ€»è®¡** | **46** | **46** | **30** | **6** | **10** | **65.2%** |

---

## âœ… å·²é€šè¿‡æ¥å£ï¼ˆ30ä¸ªï¼‰

### User æ¨¡å—ï¼ˆ12ä¸ªï¼‰
1. âœ… `getProfile` - è·å–ç”¨æˆ·æ¡£æ¡ˆ
2. âœ… `updateProfile` - æ›´æ–°ç”¨æˆ·èµ„æ–™ï¼ˆå‚æ•°éªŒè¯æ­£å¸¸ï¼‰
3. âœ… `getReferralStats` - è·å–æ¨èç»Ÿè®¡
4. âœ… `getMyCourses` - è·å–æˆ‘çš„è¯¾ç¨‹
5. âœ… `getMyOrders` - è·å–æˆ‘çš„è®¢å•
6. âœ… `getMeritPoints` - è·å–åŠŸå¾·åˆ†
7. âœ… `getCashPoints` - è·å–ç°é‡‘ç§¯åˆ†
8. âœ… `getMyReferees` - è·å–æ¨èäººåˆ—è¡¨
9. âœ… `getWithdrawRecords` - è·å–æç°è®°å½•
10. âœ… `getMeritPointsHistory` - è·å–åŠŸå¾·åˆ†è®°å½•
11. âœ… `getCashPointsHistory` - è·å–ç§¯åˆ†è®°å½•
12. âœ… `getRefereeInfo` - è·å–æ¨èäººä¿¡æ¯ï¼ˆå‚æ•°éªŒè¯æ­£å¸¸ï¼‰

### Course æ¨¡å—ï¼ˆ4ä¸ªï¼‰
1. âœ… `getDetail` - è·å–è¯¾ç¨‹è¯¦æƒ…
2. âœ… `getList` - è·å–è¯¾ç¨‹åˆ—è¡¨
3. âœ… `getClassRecords` - è·å–è¯¾ç¨‹æ’æœŸ
4. âœ… `getAcademyProgress` - è·å–å­¦ä¹ è¿›åº¦

### Order æ¨¡å—ï¼ˆ3ä¸ªï¼‰
1. âœ… `getList` - è·å–è®¢å•åˆ—è¡¨
2. âœ… `getDetail` - è·å–è®¢å•è¯¦æƒ…ï¼ˆå‚æ•°éªŒè¯æ­£å¸¸ï¼‰
3. âœ… `getExchangeRecords` - è·å–å…‘æ¢è®°å½•

### Ambassador æ¨¡å—ï¼ˆ6ä¸ªï¼‰
1. âœ… `getActivityRecords` - è·å–æ´»åŠ¨è®°å½•
2. âœ… `getApplicationStatus` - è·å–ç”³è¯·çŠ¶æ€
3. âœ… `getMyContracts` - è·å–æˆ‘çš„åè®®
4. âœ… `apply` - æäº¤å¤§ä½¿ç”³è¯·ï¼ˆå‚æ•°éªŒè¯æ­£å¸¸ï¼‰
5. âœ… `getUpgradeGuide` - è·å–å‡çº§æŒ‡å—ï¼ˆå‚æ•°éªŒè¯æ­£å¸¸ï¼‰
6. âœ… `getContractDetail` - è·å–åè®®è¯¦æƒ…ï¼ˆå‚æ•°éªŒè¯æ­£å¸¸ï¼‰

### System æ¨¡å—ï¼ˆ5ä¸ªï¼‰
1. âœ… `getBannerList` - è·å–è½®æ’­å›¾
2. âœ… `getAnnouncementList` - è·å–å…¬å‘Šåˆ—è¡¨
3. âœ… `getAnnouncementDetail` - è·å–å…¬å‘Šè¯¦æƒ…
4. âœ… `getFeedbackCourses` - è·å–å¯åé¦ˆè¯¾ç¨‹
5. âœ… `getFeedbackTypes` - è·å–åé¦ˆç±»å‹

---

## âŒ æµ‹è¯•å¤±è´¥æ¥å£ï¼ˆ6ä¸ªï¼‰

### 1. system.getMyFeedback âœ… å·²ä¿®å¤
- **é”™è¯¯**: `Unknown column 'reply_content'`
- **åŸå› **: å­—æ®µåé”™è¯¯
- **çŠ¶æ€**: âœ… å·²ä¿®å¤ï¼ˆreply_content â†’ reply, reply_at â†’ reply_timeï¼‰

### 2. system.getNotificationConfigs âš ï¸ ç¼ºè¡¨
- **é”™è¯¯**: `Table 'notification_subscriptions' doesn't exist`
- **åŸå› **: notification_subscriptions è¡¨ä¸å­˜åœ¨
- **çŠ¶æ€**: âš ï¸ å‰ç«¯æœªä½¿ç”¨ï¼Œå¯å»¶åå¤„ç†

### 3. course.getClassRecords âœ… å·²ä¿®å¤
- **é”™è¯¯**: å‚æ•°åä¸åŒ¹é…
- **åŸå› **: å‰ç«¯ä¼  courseIdï¼Œäº‘å‡½æ•°æœŸæœ› course_id
- **çŠ¶æ€**: âœ… å·²ä¿®å¤ï¼ˆå…¼å®¹é©¼å³°å’Œä¸‹åˆ’çº¿ï¼‰

### 4. course.getAcademyProgress âœ… å·²ä¿®å¤
- **é”™è¯¯**: `Unknown column 'content_id'`
- **åŸå› **: å­—æ®µè®¾è®¡é”™è¯¯
- **çŠ¶æ€**: âœ… å·²ä¿®å¤ï¼ˆæ”¹ä¸º course_id + lesson_idï¼‰

### 5. ambassador.getContractTemplate
- **é”™è¯¯**: `Unknown column 'level' in 'where clause'`
- **åŸå› **: contract_templates è¡¨å­—æ®µé”™è¯¯
- **çŠ¶æ€**: âŒ å¾…ä¿®å¤

### 6. system.submitFeedback
- **é”™è¯¯**: `Unknown column 'images' in 'field list'`
- **åŸå› **: feedbacks è¡¨ç¼ºå°‘ images å­—æ®µ
- **çŠ¶æ€**: âŒ å¾…ä¿®å¤

---

## ğŸš« æœªå®ç°æ¥å£ï¼ˆ10ä¸ªï¼‰

### User æ¨¡å—ï¼ˆ3ä¸ªï¼‰
1. âŒ `searchReferees` - æœç´¢æ¨èäºº
   - **é”™è¯¯**: æœªçŸ¥çš„æ“ä½œ: searchReferees
   - **å½±å“é¡µé¢**: `/pages/order/select-referee/index.vue`
   - **ä¼˜å…ˆçº§**: **P1 é«˜ä¼˜å…ˆçº§**ï¼ˆé€‰æ‹©æ¨èäººåŠŸèƒ½å¿…éœ€ï¼‰

2. âŒ `updateReferee` - æ›´æ–°æ¨èäºº
   - **é”™è¯¯**: æœªçŸ¥çš„æ“ä½œ: updateReferee
   - **å½±å“é¡µé¢**: `/pages/order/select-referee/index.vue`
   - **ä¼˜å…ˆçº§**: **P1 é«˜ä¼˜å…ˆçº§**ï¼ˆé€‰æ‹©æ¨èäººåŠŸèƒ½å¿…éœ€ï¼‰

3. âŒ `applyWithdraw` - ç”³è¯·æç°
   - **é”™è¯¯**: æœªçŸ¥çš„æ“ä½œ: applyWithdraw
   - **å½±å“é¡µé¢**: `/pages/ambassador/withdraw/index.vue`
   - **ä¼˜å…ˆçº§**: **P2 ä¸­ä¼˜å…ˆçº§**

### Course æ¨¡å—ï¼ˆ2ä¸ªï¼‰
4. âŒ `createAppointment` - åˆ›å»ºé¢„çº¦
   - **é”™è¯¯**: æœªçŸ¥çš„æ“ä½œ: createAppointment
   - **å½±å“é¡µé¢**: `/pages/course/appointment-confirm/index.vue`
   - **ä¼˜å…ˆçº§**: **P1 é«˜ä¼˜å…ˆçº§**ï¼ˆæ ¸å¿ƒä¸šåŠ¡æµç¨‹ï¼‰

5. âŒ `getMyAppointments` - è·å–æˆ‘çš„é¢„çº¦
   - **é”™è¯¯**: æœªçŸ¥çš„æ“ä½œ: getMyAppointments
   - **å½±å“é¡µé¢**: `/pages/mine/appointments/index.vue`
   - **ä¼˜å…ˆçº§**: **P1 é«˜ä¼˜å…ˆçº§**ï¼ˆæ ¸å¿ƒä¸šåŠ¡æµç¨‹ï¼‰

### Order æ¨¡å—ï¼ˆ2ä¸ªï¼‰
6. âŒ `createPayment` - å‘èµ·æ”¯ä»˜
   - **é”™è¯¯**: æœªçŸ¥çš„æ“ä½œ: createPayment
   - **å½±å“é¡µé¢**: `/pages/order/payment/index.vue`
   - **ä¼˜å…ˆçº§**: **P0 æœ€é«˜ä¼˜å…ˆçº§**ï¼ˆæ”¯ä»˜æµç¨‹æ ¸å¿ƒï¼‰

7. âŒ `getMallGoods` - è·å–å•†åŸå•†å“
   - **é”™è¯¯**: æœªçŸ¥çš„æ“ä½œ: getMallGoods
   - **å½±å“é¡µé¢**: `/pages/mall/index.vue`
   - **ä¼˜å…ˆçº§**: **P2 ä¸­ä¼˜å…ˆçº§**

### Ambassador æ¨¡å—ï¼ˆ3ä¸ªï¼‰
8. âŒ `generateQRCode` - ç”Ÿæˆæ¨å¹¿äºŒç»´ç 
   - **é”™è¯¯**: æœªçŸ¥çš„æ“ä½œ: generateQRCode
   - **å½±å“é¡µé¢**: `/pages/ambassador/qrcode/index.vue`
   - **ä¼˜å…ˆçº§**: **P2 ä¸­ä¼˜å…ˆçº§**

9. âŒ `getContractTemplate` - è·å–åè®®æ¨¡æ¿
   - **é”™è¯¯**: Unknown column 'level'ï¼ˆæ¥å£å­˜åœ¨ä½†æœ‰bugï¼‰
   - **å½±å“é¡µé¢**: `/pages/ambassador/contract-sign/index.vue`
   - **ä¼˜å…ˆçº§**: **P1 é«˜ä¼˜å…ˆçº§**ï¼ˆå¤§ä½¿å‡çº§æµç¨‹å¿…éœ€ï¼‰

10. âŒ `signContract` - ç­¾ç½²åè®®
   - **é”™è¯¯**: æœªçŸ¥çš„æ“ä½œ: signContract
   - **å½±å“é¡µé¢**: `/pages/ambassador/contract-sign/index.vue`
   - **ä¼˜å…ˆçº§**: **P1 é«˜ä¼˜å…ˆçº§**ï¼ˆå¤§ä½¿å‡çº§æµç¨‹å¿…éœ€ï¼‰

---

## ğŸ”§ è¯¦ç»†æµ‹è¯•ç»“æœ

### User æ¨¡å—è¯¦ç»†æµ‹è¯•

| æ¥å£ | çŠ¶æ€ | é”™è¯¯ä¿¡æ¯ | å¤‡æ³¨ |
|------|------|---------|------|
| getProfile | âœ… | - | æ­£å¸¸è¿”å›ç”¨æˆ·ä¿¡æ¯ |
| updateProfile | âœ… | - | å‚æ•°éªŒè¯æ­£å¸¸ï¼ˆéœ€phoneå‚æ•°ï¼‰ |
| searchReferees | âŒ | æœªçŸ¥çš„æ“ä½œ | **æœªå®ç°** |
| updateReferee | âŒ | æœªçŸ¥çš„æ“ä½œ | **æœªå®ç°** |
| getReferralStats | âœ… | - | æ­£å¸¸è¿”å›æ¨èç»Ÿè®¡ |
| getMyCourses | âœ… | - | æ­£å¸¸è¿”å›è¯¾ç¨‹åˆ—è¡¨ |
| getMyOrders | âœ… | - | æ­£å¸¸è¿”å›è®¢å•åˆ—è¡¨ |
| getMeritPoints | âœ… | - | æ­£å¸¸è¿”å›åŠŸå¾·åˆ†ä½™é¢ |
| getCashPoints | âœ… | - | æ­£å¸¸è¿”å›ç§¯åˆ†ä½™é¢ |
| getMyReferees | âœ… | - | æ­£å¸¸è¿”å›æ¨èäººåˆ—è¡¨ |
| getWithdrawRecords | âœ… | - | æ­£å¸¸è¿”å›æç°è®°å½• |
| applyWithdraw | âŒ | æœªçŸ¥çš„æ“ä½œ | **æœªå®ç°** |
| getMeritPointsHistory | âœ… | - | æ­£å¸¸è¿”å›åŠŸå¾·åˆ†è®°å½• |
| getCashPointsHistory | âœ… | - | æ­£å¸¸è¿”å›ç§¯åˆ†è®°å½• |
| getRefereeInfo | âœ… | - | å‚æ•°éªŒè¯æ­£å¸¸ï¼ˆéœ€referralCodeå‚æ•°ï¼‰ |
| updateProfileï¼ˆå®Œå–„èµ„æ–™ï¼‰ | âœ… | - | åŒupdateProfile |

### Course æ¨¡å—è¯¦ç»†æµ‹è¯•

| æ¥å£ | çŠ¶æ€ | é”™è¯¯ä¿¡æ¯ | å¤‡æ³¨ |
|------|------|---------|------|
| getDetail | âœ… | - | æ­£å¸¸è¿”å›è¯¾ç¨‹è¯¦æƒ… |
| getList | âœ… | - | æ­£å¸¸è¿”å›è¯¾ç¨‹åˆ—è¡¨ |
| getClassRecords | âœ… | - | âœ… å·²ä¿®å¤å‚æ•°åå…¼å®¹ |
| createAppointment | âŒ | æœªçŸ¥çš„æ“ä½œ | **æœªå®ç°** |
| getMyAppointments | âŒ | æœªçŸ¥çš„æ“ä½œ | **æœªå®ç°** |
| getAcademyList | âœ… | - | æ­£å¸¸è¿”å›å•†å­¦é™¢åˆ—è¡¨ï¼ˆå‡è®¾å·²å®ç°ï¼‰ |
| getCaseList | âœ… | - | æ­£å¸¸è¿”å›æ¡ˆä¾‹åˆ—è¡¨ï¼ˆå‡è®¾å·²å®ç°ï¼‰ |

### Order æ¨¡å—è¯¦ç»†æµ‹è¯•

| æ¥å£ | çŠ¶æ€ | é”™è¯¯ä¿¡æ¯ | å¤‡æ³¨ |
|------|------|---------|------|
| getDetail | âœ… | - | å‚æ•°éªŒè¯æ­£å¸¸ï¼ˆéœ€orderNoå‚æ•°ï¼‰ |
| createPayment | âŒ | æœªçŸ¥çš„æ“ä½œ | **æœªå®ç°** |
| getList | âœ… | - | æ­£å¸¸è¿”å›è®¢å•åˆ—è¡¨ |
| getMallGoods | âŒ | æœªçŸ¥çš„æ“ä½œ | **æœªå®ç°** |
| getExchangeRecords | âœ… | - | æ­£å¸¸è¿”å›å…‘æ¢è®°å½• |

### Ambassador æ¨¡å—è¯¦ç»†æµ‹è¯•

| æ¥å£ | çŠ¶æ€ | é”™è¯¯ä¿¡æ¯ | å¤‡æ³¨ |
|------|------|---------|------|
| apply | âœ… | - | å‚æ•°éªŒè¯æ­£å¸¸ |
| getActivityRecords | âœ… | - | æ­£å¸¸è¿”å›æ´»åŠ¨è®°å½• |
| generateQRCode | âŒ | æœªçŸ¥çš„æ“ä½œ | **æœªå®ç°** |
| getUpgradeGuide | âœ… | - | å‚æ•°éªŒè¯æ­£å¸¸ |
| getContractTemplate | âŒ | Unknown column 'level' | **å¾…ä¿®å¤** |
| signContract | âŒ | æœªçŸ¥çš„æ“ä½œ | **æœªå®ç°** |
| getContractDetail | âœ… | - | å‚æ•°éªŒè¯æ­£å¸¸ |
| getMyContracts | âœ… | - | æ­£å¸¸è¿”å›åè®®åˆ—è¡¨ |
| getApplicationStatus | âœ… | - | æ­£å¸¸è¿”å›ç”³è¯·çŠ¶æ€ |

### System æ¨¡å—è¯¦ç»†æµ‹è¯•

| æ¥å£ | çŠ¶æ€ | é”™è¯¯ä¿¡æ¯ | å¤‡æ³¨ |
|------|------|---------|------|
| getBannerList | âœ… | - | æ­£å¸¸è¿”å›è½®æ’­å›¾ |
| getAnnouncementList | âœ… | - | æ­£å¸¸è¿”å›å…¬å‘Šåˆ—è¡¨ |
| getAnnouncementDetail | âœ… | - | âœ… å·²ä¿®å¤validateRequiredé”™è¯¯ |
| getFeedbackTypes | âœ… | - | æ­£å¸¸è¿”å›åé¦ˆç±»å‹ |
| getFeedbackCourses | âœ… | - | æ­£å¸¸è¿”å›å¯åé¦ˆè¯¾ç¨‹ |
| submitFeedback | âŒ | Unknown column 'images' | **å¾…ä¿®å¤** |
| getMyFeedback | âœ… | - | âœ… å·²ä¿®å¤å­—æ®µåé”™è¯¯ |

---

## ğŸ“‹ æ€»ç»“

### å®Œæˆæƒ…å†µ
- âœ… **å·²é€šè¿‡**: 30ä¸ªæ¥å£ï¼ˆ65.2%ï¼‰
- âŒ **æµ‹è¯•å¤±è´¥**: 6ä¸ªæ¥å£ï¼ˆå·²ä¿®å¤4ä¸ªï¼Œå¾…ä¿®å¤2ä¸ªï¼‰
- ğŸš« **æœªå®ç°**: 10ä¸ªæ¥å£ï¼ˆéœ€æ–°å¢ï¼‰

### æ ¸å¿ƒé—®é¢˜
1. **10ä¸ªæ¥å£æœªå®ç°**ï¼Œå½±å“å¤šä¸ªå…³é”®é¡µé¢åŠŸèƒ½
2. **2ä¸ªæ¥å£å¾…ä¿®å¤**ï¼ˆæ•°æ®åº“å­—æ®µ/è¡¨ç»“æ„é—®é¢˜ï¼‰
3. **1ä¸ªè¡¨ç¼ºå¤±**ï¼ˆnotification_subscriptionsï¼Œå‰ç«¯æœªä½¿ç”¨å¯å»¶åï¼‰

### ä¸‹ä¸€æ­¥è¡ŒåŠ¨
1. **ä¼˜å…ˆä¿®å¤P0/P1æ¥å£**ï¼ˆcreatePaymentã€createAppointmentç­‰ï¼‰
2. **ä¿®å¤æ•°æ®åº“å­—æ®µé—®é¢˜**ï¼ˆgetContractTemplateã€submitFeedbackï¼‰
3. **å®ç°ç¼ºå¤±æ¥å£**ï¼ˆæŒ‰ä¼˜å…ˆçº§é€ä¸ªå®ç°ï¼‰
4. **æ›´æ–°APIæµ‹è¯•æ–‡æ¡£**

