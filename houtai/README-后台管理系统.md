# 后台管理系统 - 文档总览

**版本**: V1.0
**创建时间**: 2026-02-10
**项目**: 天道文化小程序后台管理系统

---

## 📚 文档清单

本次为后台管理系统生成了以下完整文档：

### 1. 后台管理系统目录架构.md
**文件路径**: `cloudfunctions/后台管理系统目录架构.md`

**内容概要**:
- 系统概览（68个管理端接口）
- 完整的后台目录架构
- 8个主要功能模块详细说明
- 推荐的页面布局和菜单结构
- 权限管理建议
- 技术实现建议
- 数据库表关系
- 开发优先级建议

**适用人群**: 产品经理、项目经理、架构师

---

### 2. 后台管理系统API速查表.md
**文件路径**: `cloudfunctions/后台管理系统API速查表.md`

**内容概要**:
- 68个管理端接口快速索引
- 按模块分类的接口列表
- 每个接口的详细参数说明
- 调用示例代码
- 认证方式说明
- 通用响应格式
- 常见错误码
- 搜索筛选参数说明

**适用人群**: 前端开发、后端开发、测试工程师

---

### 3. 后台管理系统前端开发清单.md
**文件路径**: `cloudfunctions/后台管理系统前端开发清单.md`

**内容概要**:
- 35个页面开发清单
- 每个页面的功能需求
- UI组件清单
- 通用组件清单
- 技术栈建议
- 4个阶段的开发计划
- 开发检查清单

**适用人群**: 前端开发、UI设计师

---

### 4. 后台管理系统技术实现指南.md
**文件路径**: `cloudfunctions/后台管理系统技术实现指南.md`

**内容概要**:
- 数据库表关系图
- JWT Token 认证实现
- 权限控制实现
- API 调用封装
- 组件开发示例
- 最佳实践
- 部署建议

**适用人群**: 前端开发、后端开发

---

## 📊 系统统计

### 接口统计

| 云函数模块 | 管理端接口数 | 主要功能 |
|-----------|------------|---------|
| **user** | 3 | 学员管理、推荐人管理 |
| **ambassador** | 15 | 大使申请审核、等级管理、活动管理、协议管理 |
| **order** | 4 | 订单管理、提现审核 |
| **course** | 20 | 课程管理、排期管理、预约管理、案例资料管理 |
| **system** | 22 | 系统配置、通知管理、反馈管理、管理员管理、统计分析 |
| **callbacks** | 3 | 微信回调（消息推送、支付、退款） |
| **business-logic** | 1 | 业务逻辑处理（内部调用） |
| **总计** | **68** | - |

### 页面统计

| 模块 | 页面数 | 优先级 |
|------|--------|--------|
| 登录认证 | 1 | P0 |
| 仪表盘 | 1 | P0 |
| 学员管理 | 3 | P0 |
| 订单管理 | 3 | P0 |
| 课程管理 | 11 | P1 |
| 大使管理 | 9 | P1 |
| 系统管理 | 7 | P2 |
| **总计** | **35** | - |

---

## 🗂️ 功能模块概览

### 1️⃣ 仪表盘 (Dashboard)
- 数据统计概览
- 用户、订单、课程、大使统计
- 数据可视化图表
- 快捷入口

### 2️⃣ 学员管理 (User Management)
- 学员列表（搜索、筛选、分页）
- 学员详情（完整信息、订单、课程、积分统计）
- 修改推荐人
- 推荐人变更日志

### 3️⃣ 大使管理 (Ambassador Management)
- 申请审核（审核通过/拒绝）
- 大使列表与详情
- 活动管理（线下活动、培训）
- 协议模板管理（创建、更新、版本历史）
- 协议签署管理（签署记录、即将到期）

### 4️⃣ 订单管理 (Order Management)
- 订单列表（搜索、筛选）
- 订单详情
- 订单退款（⚠️ 功能开发中）
- 提现审核（审核通过/拒绝）

### 5️⃣ 课程管理 (Course Management)
- 课程管理（创建、编辑、删除）
- 上课排期管理
- 预约管理（批量签到）
- 案例管理
- 资料管理
- 商学院管理

### 6️⃣ 系统管理 (System Management)
- 系统配置
- 大使等级配置
- 反馈管理
- 通知管理
- 公告管理
- 管理员管理

### 7️⃣ 登录认证 (Authentication)
- 管理员登录
- JWT Token 认证
- 权限控制

### 8️⃣ 回调监控 (Callback Monitoring)
- 微信消息推送回调
- 微信支付回调
- 微信退款回调

---

## 🎯 开发路线图

### 第一阶段（1周）- 核心功能 (P0)
**目标**: 完成基础管理功能

- [x] 云函数接口开发完成
- [ ] 管理员登录认证
- [ ] 仪表盘数据统计
- [ ] 学员列表与详情
- [ ] 订单列表与详情
- [ ] 提现审核

**交付物**:
- 可登录的后台系统
- 基础数据查看功能
- 提现审核功能

---

### 第二阶段（1.5周）- 重要功能 (P1)
**目标**: 完成业务核心功能

- [ ] 课程管理（列表、创建、编辑）
- [ ] 上课排期管理
- [ ] 预约管理
- [ ] 大使申请审核
- [ ] 大使列表与详情
- [ ] 协议模板管理
- [ ] 签署记录管理

**交付物**:
- 完整的课程管理功能
- 完整的大使管理功能

---

### 第三阶段（1周）- 辅助功能 (P2)
**目标**: 完善系统功能

- [ ] 案例管理
- [ ] 资料管理
- [ ] 活动管理
- [ ] 系统配置
- [ ] 反馈管理
- [ ] 通知管理
- [ ] 公告管理
- [ ] 管理员管理

**交付物**:
- 完整的系统管理功能
- 完整的内容管理功能

---

### 第四阶段（0.5周）- 优化完善
**目标**: 优化用户体验

- [ ] 回调监控
- [ ] 操作日志
- [ ] 数据导出
- [ ] 批量操作
- [ ] 性能优化
- [ ] 测试与修复

**交付物**:
- 稳定可用的后台系统
- 完整的测试报告

---

## 🛠️ 技术栈

### 前端技术栈
- **框架**: Vue 3 + Element Plus (推荐)
- **状态管理**: Pinia
- **路由**: Vue Router
- **HTTP客户端**: Axios
- **图表**: ECharts
- **富文本编辑器**: Quill
- **工具库**: Day.js, Lodash

### 后端技术栈
- **云函数**: 腾讯云 CloudBase
- **运行时**: Node.js 18.15
- **数据库**: CloudBase 云数据库（MySQL）
- **认证**: JWT Token
- **加密**: MD5

---

## 📋 核心数据库表

### 用户相关
- `users` - 用户表
- `referee_change_logs` - 推荐人变更日志
- `merit_points_records` - 功德分明细
- `cash_points_records` - 积分明细
- `withdrawals` - 提现记录

### 订单相关
- `orders` - 订单表
- `mall_goods` - 商城商品
- `mall_exchange_records` - 兑换记录

### 课程相关
- `courses` - 课程表
- `class_records` - 上课排期
- `appointments` - 预约表
- `user_courses` - 用户课程关联
- `academy_intro` - 商学院介绍
- `academy_cases` - 商学院案例
- `academy_materials` - 商学院资料

### 大使相关
- `ambassador_applications` - 大使申请
- `ambassador_quotas` - 大使名额
- `ambassador_upgrade_logs` - 升级日志
- `contract_templates` - 协议模板
- `contract_signatures` - 协议签署
- `ambassador_activities` - 大使活动
- `ambassador_level_configs` - 等级配置

### 系统相关
- `admin_users` - 管理员账号
- `system_configs` - 系统配置
- `feedbacks` - 用户反馈
- `notification_configs` - 通知配置
- `notification_logs` - 通知日志
- `announcements` - 系统公告

---

## 🔐 权限管理

### 角色定义

| 角色 | 权限范围 |
|------|---------|
| **super_admin** | 所有权限 |
| **admin** | 除管理员管理外的所有权限 |
| **operator** | 订单管理、课程管理、反馈管理 |

### 权限标识

```javascript
// 用户管理
'user:read', 'user:write', 'user:delete'

// 大使管理
'ambassador:read', 'ambassador:write', 'ambassador:audit'

// 订单管理
'order:read', 'order:write', 'order:refund', 'order:withdraw_audit'

// 课程管理
'course:read', 'course:write', 'course:delete'

// 系统管理
'system:config', 'system:admin', 'system:notification'
```

---

## ⚠️ 注意事项

### 1. 支付功能
以下接口暂时返回"功能开发中"，待配置微信商户信息后启用：
- `order.createPayment` - 发起支付
- `order.paymentCallback` - 支付回调
- `order.refund` - 订单退款

### 2. 认证方式
- 所有管理端接口需要 JWT Token 认证
- Token 有效期 24 小时
- 需要在请求头中携带：`Authorization: Bearer <token>`

### 3. 数据安全
- 密码使用 MD5 加密存储
- 敏感信息（手机号）部分脱敏显示
- 操作日志记录（待实现）

### 4. 性能优化
- 列表接口支持分页
- 大数据量查询使用索引
- 图片使用云存储CDN

---

## 📞 快速开始

### 1. 查看系统架构
阅读 `后台管理系统目录架构.md`，了解整体架构和功能模块。

### 2. 查看接口文档
阅读 `后台管理系统API速查表.md`，了解所有可用的接口和调用方式。

### 3. 开始前端开发
阅读 `后台管理系统前端开发清单.md`，按照开发清单逐步实现页面。

### 4. 参考技术实现
阅读 `后台管理系统技术实现指南.md`，参考代码示例和最佳实践。

---

## 📝 相关文档链接

### 云函数 API 文档
- [User 云函数 API 文档](./user/API文档.md)
- [Ambassador 云函数 API 文档](./ambassador/API文档.md)
- [Order 云函数 API 文档](./order/API文档.md)
- [Course 云函数 API 文档](./course/API文档.md)
- [System 云函数 API 文档](./system/API文档.md)
- [Callbacks 云函数 API 文档](./callbacks/API文档.md)

### 数据库文档
- [数据库详细信息](../docs/database/数据库详细信息.md)
- [数据库快速参考](../docs/database/QUICK_REFERENCE.md)
- [SDK 使用指南](../docs/database/SDK_GUIDE.md)

### 部署文档
- [云函数标准部署规范](./云函数标准部署规范.md)

---

## 🎉 总结

本次为天道文化小程序后台管理系统生成了完整的文档体系，包括：

✅ **系统架构文档** - 完整的目录架构和功能模块说明
✅ **API 速查表** - 68个管理端接口的快速参考
✅ **前端开发清单** - 35个页面的详细开发任务
✅ **技术实现指南** - 代码示例和最佳实践

这些文档将帮助你：
1. 快速了解后台系统的整体架构
2. 高效查找和使用 API 接口
3. 有序推进前端页面开发
4. 参考最佳实践编写高质量代码

---

## 📧 联系方式

**文档维护**: 开发团队
**最后更新**: 2026-02-10
**版本**: V1.0

如有任何问题或建议，请联系开发团队。

---

**祝开发顺利！** 🚀
