# 项目开发规范

## 架构设计原则

### 统一页面原则
相似功能整合到统一页面，通过参数区分类型：
- 前端：同类功能用同一页面，根据参数动态渲染
- 后端：统一接口，通过 type 字段区分业务类型
- 数据库：使用 type/category/status 标识分类

示例：
- 订单支付页 (`pages/order/payment/index`)：课程订单/复训订单/升级订单共用
- 课程详情页 (`pages/course/detail/index`)：初探班/密训班/咨询服务共用
- 大使升级 (`pages/ambassador/contract-sign/index`)：青鸾/鸿鹄升级共用

## 前端开发规范

### 强制规范

#### 1. 样式规范
- **禁止**：TDesign Vue 组件、自定义类名、硬编码颜色
- **必须**：使用 TDesign CSS 类名（.t-card/.t-button 等）
- 个性化样式用 inline style
- 颜色使用 SCSS 变量（$td-brand-color）
- 先查 `src/styles/components/index.scss`，优先使用现有组件

#### 2. 盒模型规范（防止溢出）
- scroll-view 带 padding 必须设置 `boxSizing: 'border-box'`
- 带 padding 的容器外层加 `overflow: 'hidden'`
- 优先使用 .t-card（已处理盒模型）

正确示例：
```vue
<view :style="{ overflow: 'hidden' }">
  <scroll-view :style="{ padding: '24rpx', boxSizing: 'border-box' }">
    内容
  </scroll-view>
</view>
```

错误示例：
```vue
<!-- 会溢出 48rpx -->
<scroll-view :style="{ padding: '24rpx' }">内容</scroll-view>
```

#### 3. 弹窗规范
必须使用 `uni.showModal`，禁止自定义弹窗

#### 4. 其他规范
- 可滚动页面底部留白 120rpx
- 禁止自动启动开发服务器（已运行）
- 原型图迁移：`var(--td-xxx)` → `$td-xxx`，`px` → `rpx`（1px=2rpx）

### 常用组件
基础：.t-card, .t-button, .t-badge, .t-avatar
表单：.t-form, .t-input, .t-radio-group
布局：.t-page-header, .t-section-title, .t-tabs
数据：.t-list, .t-cell

### Code Review 检查
- [ ] 使用 TDesign CSS 类名
- [ ] scroll-view 带 padding 设置了 boxSizing: border-box
- [ ] 滚动容器外层有 overflow: hidden
- [ ] 页面左右对称无溢出
- [ ] 弹窗用 uni.showModal
- [ ] 颜色用 SCSS 变量

### 样式优先级
1. TDesign CSS 类名（先查 index.scss）
2. 可复用组件样式（添加到 components/*.scss）
3. inline style（个性化样式）
4. 禁止自定义类名
